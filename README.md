# Table Order PWA

QR Code-based in-restaurant ordering system. Customers scan a QR code at their table to browse the menu and place orders directly.

## ğŸŒŸ Features

- ğŸ“± **QR Code Entry** - Scan table QR to start ordering
- ğŸ½ï¸ **Dine-in Only** - Simplified checkout (no delivery/pickup)
- ğŸ›’ **Full Menu** - Browse, customize, add to cart
- ğŸ’³ **Multiple Payments** - Stripe, PayPal, Cash, etc.
- ğŸ“Š **Order Tracking** - Real-time status updates
- ğŸŒ **PWA** - Works on any device with a browser

## ğŸš€ Quick Start

```bash
# Install dependencies
npm install

# Run development server
npm run dev

# Build for production
npm run build
```

## ğŸ”— QR Code URL Formats

The app supports multiple URL formats for maximum flexibility:

### Format 1: Direct Table Route
```
https://tableorder.yourdomain.com/#/table/{table_uuid}
```

### Format 2: Query Parameter (Backend Generated)
```
https://yourdomain.com/restaurant/{slug}/?table={table_uuid}
```
This is the format generated by MerchantVue's QR code generator.

### Format 3: With Table Name
```
https://tableorder.yourdomain.com/#/table/{uuid}?name=VIP%20Table
```

## How It Works

1. **Customer scans QR code** â†’ Opens `/table/:id` route
2. **TableEntry.vue** â†’ Sets table mode, shows welcome
3. **Customer taps "View Menu"** â†’ Navigates to `/home`
4. **Menu browsing** â†’ Same as regular app
5. **Checkout** â†’
   - Transaction type locked to "dinein"
   - Table info displayed (no address needed)
   - `table_id` sent with order

## Key Files Modified

| File | Changes |
|------|---------|
| `src/stores/DataStorePersisted.js` | Added table state & methods |
| `src/router/routes.js` | Added `/table/:id` route |
| `src/pages/Table/TableEntry.vue` | NEW - QR landing page |
| `src/pages/Cart/CheckoutPage.vue` | Table order mode support |
| `package.json` | Removed Capacitor deps (PWA only) |

## API Changes Required (Backend)

The backend needs to accept `table_id` in these endpoints:

```javascript
// POST /addToCart
{ cart_uuid, item_uuid, table_id: 5 }

// POST /PlaceOrder
{ cart_uuid, payment_code, table_id: 5 }
```

## Environment Configuration

Edit `src/api/config.js`:

```javascript
const config = {
  api_base_url: "https://your-api.com",
  api_token: "your-public-token",
  // ... other settings
};
```

## Generating QR Codes

Use any QR code generator with your table URLs:

- [QR Code Generator](https://www.qr-code-generator.com/)
- [GoQR](https://goqr.me/)
- Or generate programmatically in your admin panel

## Production Deployment

```bash
# Build PWA
npm run build

# Output in /dist/pwa
# Deploy to any static hosting (Netlify, Vercel, etc.)
```

## License

Private - All rights reserved.
